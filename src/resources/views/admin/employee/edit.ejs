<main class="admin__main">
    <div class="admin__main-heading">
        <p> <span onclick="back()" style="cursor: pointer; text-decoration: underline;">Employee</span> / Edit / <%= employee.lastname%> <%= employee.firstname%></p>
        <a href="" class="admin__main-btn admin__main-create btn-back">
            <i class='bx bx-undo'></i>
        </a>
    </div>
    <form id="edit-employee" method="POST" action="/administration/employee/edit/update/<%= employee._id %>?_method=PUT" class="profile__main" enctype="multipart/form-data">
        <div class="profile__main-content">
            <div class="profile__main-left">
                <div class="profile__main-avatar">
                    <img src="<%= employee.image %>" alt="" class="profile__main-img">
                    <span>
                        <i class='bx bxs-camera-plus'></i>
                    </span>
                </div>
            <button id="btn-save-profile" type="submit" class="admin__main-btn btn-action-form">
                <i class='bx bxs-save'></i>
            </button>
            </div>
            <input type="file" class="upload__file-img" id="image" name="image">
            <div class="profile__main-info admin-main-info">
                <div class="profile__main-item">
                    <label for="fullname" class="profile__main-label">Họ và tên</label>
                    <input type="text" class="profile__main-input" id="fullname" name="fullname" value="<%= employee.fullname %>" required>
                </div>
                <div class="profile__main-item">
                    <label for="username" class="profile__main-label">Tên đăng nhập</label>
                    <input type="text" class="profile__main-input" id="username" name="username" value="<%= employee.username %>"  required disabled>
                </div>
                <div class="profile__main-item">
                    <label for="email" class="profile__main-label">Email</label>
                    <input type="email" class="profile__main-input" id="email" name="email" value="<%= employee.email %>" required>
                </div>
                <div class="profile__main-item">
                    <label for="phone" class="profile__main-label">Số điện thoại</label>
                    <input type="phone" class="profile__main-input" id="phone" name="phone" value="<%= employee.phone %>" required>
                </div>
                <div class="profile__main-item">
                    <label for="building" class="profile__main-label">Địa chỉ</label>
                    <div class="profile__main-item--address">
                        <div>
                            <input type="text" class="profile__main-input" id="building" name="building" value="<%= employee.address.building %>" placeholder="Số nhà, đường, khu phố" style="width:100%" required>
                        </div>
                        <div>
                            <select name="city" id="select-city" class="profile__main-input" style="width:100%" required>
                                <option></option>
                                <% provinces.forEach(function(province, index){%>
                                    <option value="<%= province.name %>"><%= province.name %></option>
                                <%})%>
                            </select>
                        </div>
                        <div>
                            <select name="district" id="select-district" class="profile__main-input" style="width:100%" required></select>
                        </div>
                        <div>
                            <select name="ward" id="select-ward" class="profile__main-input" style="width:100%" required></select>
                        </div>
                    </div>
                </div>
                <div class="profile__main-item">
                    <label for="role" class="profile__main-label">Quyền</label>
                    <select id="role" name="role" class="profile__main-input" required>
                        <option value="">-- Chọn quyền --</option>
                        <% var role_name = (roles.find(x => x._id.equals(employee.role))).name %>
                        <option value="admin" <% if(role_name == 'admin') {%> selected <%}%>>Admin</option>
                        <option value="Nha sĩ" <% if(role_name == 'Nha sĩ') {%> selected <%}%>>Nha sĩ</option>
                        <option value="Lễ tân" <% if(role_name == 'Lễ tân') {%> selected <%}%>>Lễ tân</option>
                    </select>
                </div>
            </div>
        </div>
    </form>
</main>

<%- include('../partials/select2_employee') -%>

